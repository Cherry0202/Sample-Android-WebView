(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e7b651dc"],{"15ad":function(e,t,n){},"25f0":function(e,t,n){"use strict";var c=n("6eeb"),r=n("825a"),u=n("d039"),i=n("ad6d"),o="toString",s=RegExp.prototype,a=s[o],l=u((function(){return"/a/b"!=a.call({source:"a",flags:"b"})})),d=a.name!=o;(l||d)&&c(RegExp.prototype,o,(function(){var e=r(this),t=String(e.source),n=e.flags,c=String(void 0===n&&e instanceof RegExp&&!("flags"in s)?i.call(e):n);return"/"+t+"/"+c}),{unsafe:!0})},6094:function(e,t,n){"use strict";var c=n("8785"),r=n("00b9");function u(){var e=Object(c["a"])(["\n  mutation DeleteFavoriteCourse($course_id: Int, $student_id: uuid) {\n    delete_FavoriteCourses(where: { course_id: { _eq: $course_id }, student_id: { _eq: $student_id } }) {\n      returning {\n        id\n      }\n    }\n  }\n"]);return u=function(){return e},e}var i=Object(r["gql"])(u());t["a"]=i},"6eac":function(e,t,n){},"9ca6":function(e,t,n){"use strict";n.r(t);n("b0c0");var c=n("7a23"),r=Object(c["N"])("data-v-a61a8418");Object(c["y"])("data-v-a61a8418");var u={key:0,class:"content-wrap"},i={class:"title"},o={class:"description"},s={class:"play-favorite-button-wrap"},a={class:"button-text"},l=Object(c["j"])("span",{class:"button-text"},"コースを始める",-1),d={class:"favorite-button"},b={class:"headline"},j={class:"headline"},O={class:"headline"},v={class:"reviews"},f={class:"user-info"},p={class:"name"},m={class:"msg"};Object(c["w"])();var g=r((function(e,t,n,r,g,_){var k,C,h,w,y,I,$=Object(c["D"])("BackButton"),F=Object(c["D"])("CourseImage"),S=Object(c["D"])("TeacherInfo"),D=Object(c["D"])("font-awesome-icon"),R=Object(c["D"])("Lectures"),q=Object(c["D"])("SkillTest"),x=Object(c["D"])("StarRatingView");return Object(c["v"])(),Object(c["f"])(c["a"],null,[Object(c["j"])($,{"active-bg":!0}),Object(c["j"])(F,{image:null===(k=e.course)||void 0===k?void 0:k.image,isPlayButton:!1},null,8,["image"]),e.course?(Object(c["v"])(),Object(c["f"])("div",u,[Object(c["j"])(S,{image:null===(C=e.course)||void 0===C?void 0:C.Instructor.icon,name:null===(h=e.course)||void 0===h?void 0:h.Instructor.name,id:null===(w=e.course)||void 0===w?void 0:w.Instructor.id},null,8,["image","name","id"]),Object(c["j"])("h1",i,Object(c["F"])(null===(y=e.course)||void 0===y?void 0:y.title),1),Object(c["j"])("p",o,Object(c["F"])(null===(I=e.course)||void 0===I?void 0:I.detail),1),Object(c["j"])("div",s,[e.subscriptionCourse.length?(Object(c["v"])(),Object(c["f"])("button",{key:0,class:"play-button",onClick:t[1]||(t[1]=function(){return e.courseDetailTransition.apply(e,arguments)})},[Object(c["j"])("span",a,Object(c["F"])(e.$t("course-detail.taking-course")),1),Object(c["j"])(D,{icon:e.linkIcon,class:"icon link-icon"},null,8,["icon"])])):(Object(c["v"])(),Object(c["f"])("button",{key:1,class:"play-button",onClick:t[2]||(t[2]=function(){return e.addSubscriptionCourse.apply(e,arguments)})},[l,Object(c["j"])(D,{icon:e.playIcon,class:"icon"},null,8,["icon"])])),Object(c["j"])("div",d,[e.isFavoriteCourse?(Object(c["v"])(),Object(c["f"])("button",{key:0,onClick:t[3]||(t[3]=function(){return e.deleteFavorite.apply(e,arguments)})},[Object(c["j"])(D,{icon:e.checkIcon,class:"icon"},null,8,["icon"])])):(Object(c["v"])(),Object(c["f"])("button",{key:1,onClick:t[4]||(t[4]=function(){return e.addFavorite.apply(e,arguments)})},[Object(c["j"])(D,{icon:e.plusIcon,class:"icon"},null,8,["icon"])])),Object(c["j"])("span",null,Object(c["F"])(e.$t("course-detail.favorite-btn")),1)])]),Object(c["j"])("h2",b,[Object(c["j"])(D,{icon:e.playIcon,class:"icon"},null,8,["icon"]),Object(c["i"])(" "+Object(c["F"])(e.$t("course-detail.lecture")),1)]),Object(c["j"])(R,{lectures:e.lectures},null,8,["lectures"]),Object(c["j"])("h2",j,[Object(c["j"])(D,{icon:e.medalIcon,class:"icon"},null,8,["icon"]),Object(c["i"])(" "+Object(c["F"])(e.$t("course-detail.certificate")),1)]),Object(c["j"])(q,{"skill-tests":e.skillTests},null,8,["skill-tests"]),Object(c["j"])("h2",O,[Object(c["j"])(D,{icon:e.penIcon,class:"icon"},null,8,["icon"]),Object(c["i"])(" "+Object(c["F"])(e.$t("course-detail.review")),1)]),Object(c["j"])("ul",v,[(Object(c["v"])(!0),Object(c["f"])(c["a"],null,Object(c["B"])(e.reviews,(function(e,t){return Object(c["v"])(),Object(c["f"])("li",{key:t},[Object(c["j"])("div",f,[Object(c["j"])("img",{src:e.Student.photoUrl,alt:"ユーザーアイコン"},null,8,["src"]),Object(c["j"])("span",p,Object(c["F"])(e.Student.name),1)]),Object(c["j"])(x,{rating:e.score,class:"star"},null,8,["rating"]),Object(c["j"])("p",m,Object(c["F"])(e.comment),1)])})),128))])])):Object(c["g"])("",!0)],64)})),_=(n("d3b7"),n("25f0"),n("96cf"),n("1da1")),k=n("1840"),C=n("6c02"),h=n("5502"),w=n("8785"),y=n("00b9");function I(){var e=Object(w["a"])(["\n  query CourseDetail($id: Int, $student_id: uuid) {\n    Courses(where: { id: { _eq: $id } }) {\n      image\n      detail\n      title\n      Instructor {\n        id\n        icon\n        name\n      }\n      Sessions(order_by: { order: asc }) {\n        title\n      }\n      Exams {\n        title\n      }\n      FavoriteCourses(where: { _and: { student_id: { _eq: $student_id } } }) {\n        id\n      }\n      SubscriptionCourses(where: { student_id: { _eq: $student_id }, course_id: { _eq: $id } }) {\n        id\n      }\n      Reviews {\n        comment\n        score\n        Student {\n          name\n          photoUrl\n        }\n      }\n    }\n  }\n"]);return I=function(){return e},e}var $=Object(y["gql"])(I()),F=$;function S(){var e=Object(w["a"])(["\n  mutation InsertFavoriteCourse($course_id: Int, $student_id: uuid) {\n    insert_FavoriteCourses(objects: { course_id: $course_id, student_id: $student_id }) {\n      returning {\n        id\n      }\n    }\n  }\n"]);return S=function(){return e},e}var D=Object(y["gql"])(S()),R=D,q=n("6094");function x(){var e=Object(w["a"])(["\n  mutation InsertSubscriptionCourse($course_id: Int, $student_id: uuid) {\n    insert_SubscriptionCourses(objects: { course_id: $course_id, student_id: $student_id }) {\n      returning {\n        id\n      }\n    }\n  }\n"]);return x=function(){return e},e}var T=Object(y["gql"])(x()),B=T,E=n("b702"),N=n("c074"),U=n("74c9"),A=Object(c["N"])("data-v-7573ab30");Object(c["y"])("data-v-7573ab30");var J={class:"star-rating-wrap"};Object(c["w"])();var L=A((function(e,t,n,r,u,i){var o=Object(c["D"])("font-awesome-icon");return Object(c["v"])(),Object(c["f"])("div",J,[(Object(c["v"])(!0),Object(c["f"])(c["a"],null,Object(c["B"])(e.rating,(function(t){return Object(c["v"])(),Object(c["f"])(o,{icon:e.star,key:t,class:"icon star-solid"},null,8,["icon"])})),128)),(Object(c["v"])(!0),Object(c["f"])(c["a"],null,Object(c["B"])(5-e.rating,(function(t){return Object(c["v"])(),Object(c["f"])(o,{icon:e.star,key:t,class:"icon star-empty"},null,8,["icon"])})),128))])})),V=(n("a9e3"),Object(c["k"])({props:{rating:{type:Number,required:!0}},setup:function(){var e=Object(c["d"])((function(){return N["t"]}));return{star:e}}}));n("ce18");V.render=L,V.__scopeId="data-v-7573ab30";var P=V,z=n("019e"),G=n("c38c"),H=n("6b7b"),K=n("8e1b"),M=Object(c["k"])({components:{BackButton:U["a"],StarRatingView:P,CourseImage:z["a"],TeacherInfo:G["a"],Lectures:H["a"],SkillTest:K["a"]},setup:function(){var e,t=Object(h["b"])(),n=null===(e=t.state.currentUser)||void 0===e?void 0:e.uid,r=Object(C["c"])(),u=r.currentRoute,i=Object(C["c"])(),o=Object(k["c"])(F,{id:u.value.params.id,student_id:n}),s=o.result,a=o.onResult,l=o.refetch;l();var d=Object(k["b"])(R,(function(){return{variables:{course_id:u.value.params.id,student_id:n},update:function(){l()}}})),b=d.mutate,j=d.onDone,O=function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=Object(k["b"])(q["a"],(function(){return{variables:{course_id:u.value.params.id,student_id:n},update:function(){l()}}})),f=v.mutate,p=v.onDone,m=function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=Object(k["b"])(B,(function(){return{variables:{course_id:u.value.params.id,student_id:n}}})),w=g.mutate,y=g.onDone,I=function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();y((function(e){var t,n=e.data;i.push({name:"TakeCourseDetail",query:{id:null===n||void 0===n||null===(t=n.insert_SubscriptionCourses)||void 0===t?void 0:t.returning[0].id}})}));var $=Object(k["d"])(s,null,(function(e){return e.Courses[0]})),S=Object(k["d"])(s,null,(function(e){return e.Courses[0].Sessions})),D=Object(k["d"])(s,null,(function(e){return e.Courses[0].Exams})),x=Object(k["d"])(s,null,(function(e){return e.Courses[0].Reviews})),T=Object(k["d"])(s,null,(function(e){return e.Courses[0].SubscriptionCourses})),U=function(){var e=Object(k["d"])(s,null,(function(e){return e.Courses[0].SubscriptionCourses[0].id}));i.push({name:"TakeCourseDetail",query:{id:e.value.toString()}})},A=Object(c["A"])(void 0),J=Object(k["d"])(s,null,(function(e){return e.Courses[0].FavoriteCourses.length}));A.value=!!J.value,a((function(){A.value=!!J.value})),j((function(){return A.value=!0})),p((function(){return A.value=!1}));var L=Object(c["d"])((function(){return N["p"]})),V=Object(c["d"])((function(){return N["b"]})),P=Object(c["d"])((function(){return E["b"]})),z=Object(c["d"])((function(){return N["f"]})),G=Object(c["d"])((function(){return N["n"]})),H=Object(c["d"])((function(){return N["l"]}));return{playIcon:P,plusIcon:L,checkIcon:V,linkIcon:z,medalIcon:H,penIcon:G,course:$,lectures:S,skillTests:D,reviews:x,addFavorite:O,deleteFavorite:m,isFavoriteCourse:A,addSubscriptionCourse:I,subscriptionCourse:T,courseDetailTransition:U}}});n("f099");M.render=g,M.__scopeId="data-v-a61a8418";t["default"]=M},ad6d:function(e,t,n){"use strict";var c=n("825a");e.exports=function(){var e=c(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ce18:function(e,t,n){"use strict";n("6eac")},f099:function(e,t,n){"use strict";n("15ad")}}]);
//# sourceMappingURL=chunk-e7b651dc.e4787e52.js.map