{"version":3,"sources":["webpack:///./src/components/NoItem.vue?5adc","webpack:///./src/views/FavoriteCourse.vue","webpack:///./src/graphql/queries/favariteCourse.ts","webpack:///./src/views/FavoriteCourse.vue?74ed","webpack:///./src/views/FavoriteCourse.vue?e331","webpack:///./src/graphql/mutations/deleteFavoriteCourse.ts","webpack:///./src/views/FavoriteCourse.vue?76ce","webpack:///./src/components/NoItem.vue","webpack:///./src/components/NoItem.vue?667d","webpack:///./src/components/NoItem.vue?6e83","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","favoriteCourses","length","favoriteCourse","index","key","to","Course","id","src","image","alt","Instructor","name","title","deleteFavorite","icon","closeIcon","text","$t","plusIcon","components","NoItem","setup","store","uid","state","currentUser","student_id","result","refetch","data","FavoriteCourses","update","deleteFavoriteCourse","mutate","courseId","course_id","render","__scopeId","deleteFavoriteCourseMutation","props","type","String","required","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error"],"mappings":"gHAAA,W,wJCIOA,MAAM,Q,GACJA,MAAM,Y,GAIAA,MAAM,e,GACNA,MAAM,uB,GACNA,MAAM,gB,wKAVyB,EAAAC,uB,aAAA,EAAiBC,S,iBAG7D,eAeM,MAfN,EAeM,CAdJ,eAaM,MAbN,EAaM,E,mBAZJ,eAWM,2BAXiC,EAAAD,iBAAe,SAAzCE,EAAgBC,G,wBAA7B,eAWM,OAXmDC,IAAKD,EAAOJ,MAAM,e,CACzE,eAMc,GANAM,GAAE,gCAAwCH,EAAeI,OAAOC,KAAQR,MAAM,e,YAC1F,6BAAwE,CAAxE,eAAwE,OAAlES,IAAG,UAAEN,EAAeI,cAAjB,aAAE,EAAuBG,MAAOC,IAAI,GAAGX,MAAM,iB,gBACtD,eAGM,MAHN,EAGM,CAFJ,eAAgF,IAAhF,EAAgF,yBAA9CG,EAAeI,cAA+B,iBAA9C,EAAuBK,kBAAuB,aAA9C,EAAmCC,MAAI,GACzE,eAA8D,IAA9D,EAA8D,yBAAnCV,EAAeI,cAAoB,aAAnC,EAAuBO,OAAK,S,kBAG3D,eAES,UAFDd,MAAM,YAAa,QAAK,mBAAE,EAAAe,eAAeZ,EAAeI,OAAOC,M,CACrE,eAA0D,GAAtCQ,KAAM,EAAAC,UAAWjB,MAAM,c,mEAdnD,eAES,G,MAFAkB,KAAM,EAAAC,GAAE,mB,YACf,iBAAsC,CAAtC,eAAsC,GAAlBH,KAAM,EAAAI,UAAQ,qB,4YCAtC,IAAM,EAAiB,iBAAH,KAeL,I,4DCNA,iBAAgB,CAC7BC,WAAY,CACVC,SAAA,MAEFC,MAJ6B,WAIxB,MACGC,EAAQ,iBACRC,EAAG,UAAGD,EAAME,MAAMC,mBAAf,aAAG,EAAyBF,IAFlC,EAIyB,eAA8B,EAAgB,CACxEG,WAAYH,IADNI,EAJL,EAIKA,OAAQC,EAJb,EAIaA,QAGhBA,IACA,IAAM7B,EAAkB,eAAU4B,EAAQ,MAAM,SAACE,GAAD,OAAUA,EAAKC,mBAR5D,EAUsC,eAA0C,QAA8B,iBAAO,CACtHC,OAAQ,WACNH,SAFYI,EAVb,EAUKC,OAKFpB,EAAc,yDAAG,WAAOqB,GAAP,iGACfF,EAAqB,CAAEG,UAAWD,EAAUR,WAAYH,IADzC,2CAAH,sDAIdR,EAAY,gBAAS,kBAAM,UAC3BG,EAAW,gBAAS,kBAAM,UAEhC,MAAO,CACLH,YACAG,WACAnB,kBACAc,qB,UCpCN,EAAOuB,OAAS,EAChB,EAAOC,UAAY,kBAEJ,gB,8WCNf,IAAMC,EAA+B,iBAAH,KAUnB,U,oCCZf,W,+KCCOxC,MAAM,Q,GACJA,MAAM,U,GAGPA,MAAM,O,wEAJZ,eAKM,MALN,EAKM,CAJJ,eAEM,MAFN,EAEM,CADJ,eAA0B,oBAApBA,MAAM,WAEd,eAAsD,KAAtD,EAAsD,eAAnC,EAAAkB,MAAI,eAAM,EAAAC,GAAE,wBCFpB,iBAAgB,CAC7BsB,MAAO,CACLvB,KAAM,CACJwB,KAAMC,OACNC,UAAU,M,UCFhB,EAAON,OAAS,EAChB,EAAOC,UAAY,kBAEJ,U,qBCRf,IAAIM,EAAc,EAAQ,QACtBC,EAAiB,EAAQ,QAAuCC,EAEhEC,EAAoBC,SAASC,UAC7BC,EAA4BH,EAAkBI,SAC9CC,EAAS,wBACTC,EAAO,OAIPT,KAAiBS,KAAQN,IAC3BF,EAAeE,EAAmBM,EAAM,CACtCC,cAAc,EACdC,IAAK,WACH,IACE,OAAOL,EAA0BM,KAAKC,MAAMC,MAAMN,GAAQ,GAC1D,MAAOO,GACP,MAAO","file":"js/chunk-485d7b29.d1b72205.js","sourcesContent":["export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NoItem.vue?vue&type=style&index=0&id=3a4c3af1&scoped=true&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NoItem.vue?vue&type=style&index=0&id=3a4c3af1&scoped=true&lang=scss\"","<template>\n  <NoItem :text=\"$t('favorite.title')\" v-if=\"!favoriteCourses?.length\">\n    <font-awesome-icon :icon=\"plusIcon\" />\n  </NoItem>\n  <div class=\"wrap\" v-else>\n    <div class=\"contents\">\n      <div v-for=\"(favoriteCourse, index) in favoriteCourses\" :key=\"index\" class=\"course-list\">\n        <router-link :to=\"{ name: 'CourseDetail', params: { id: favoriteCourse.Course.id } }\" class=\"course-item\">\n          <img :src=\"favoriteCourse.Course?.image\" alt=\"\" class=\"profile-image\" />\n          <div class=\"course-info\">\n            <p class=\"course-teacher-name\">{{ favoriteCourse.Course?.Instructor?.name }}</p>\n            <p class=\"course-title\">{{ favoriteCourse.Course?.title }}</p>\n          </div>\n        </router-link>\n        <button class=\"close-btn\" @click=\"deleteFavorite(favoriteCourse.Course.id)\">\n          <font-awesome-icon :icon=\"closeIcon\" class=\"close-icon\" />\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed } from 'vue'\nimport { useMutation, useQuery, useResult } from '@vue/apollo-composable'\nimport favoriteCourse from '@/graphql/queries/favariteCourse'\nimport { DeleteFavoriteCourseMutation, FavoriteCourseQuery } from '@/graphql/@types/types'\nimport { faTimesCircle } from '@fortawesome/free-regular-svg-icons'\nimport { faPlus } from '@fortawesome/free-solid-svg-icons'\nimport NoItem from '@/components/NoItem.vue'\nimport { useStore } from 'vuex'\nimport deleteFavoriteCourseMutation from '@/graphql/mutations/deleteFavoriteCourse'\n\nexport default defineComponent({\n  components: {\n    NoItem\n  },\n  setup() {\n    const store = useStore()\n    const uid = store.state.currentUser?.uid\n\n    const { result, refetch } = useQuery<FavoriteCourseQuery>(favoriteCourse, {\n      student_id: uid\n    })\n    refetch()\n    const favoriteCourses = useResult(result, null, (data) => data.FavoriteCourses)\n\n    const { mutate: deleteFavoriteCourse } = useMutation<DeleteFavoriteCourseMutation>(deleteFavoriteCourseMutation, () => ({\n      update: () => {\n        refetch()\n      }\n    }))\n    const deleteFavorite = async (courseId: number) => {\n      await deleteFavoriteCourse({ course_id: courseId, student_id: uid })\n    }\n\n    const closeIcon = computed(() => faTimesCircle)\n    const plusIcon = computed(() => faPlus)\n\n    return {\n      closeIcon,\n      plusIcon,\n      favoriteCourses,\n      deleteFavorite\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.wrap {\n  .contents {\n    padding: 0 1rem;\n\n    .course-list {\n      display: flex;\n      align-items: center;\n      margin: 1rem 0;\n\n      .course-item {\n        display: flex;\n        width: 100%;\n\n        .profile-image {\n          object-fit: cover;\n          width: 100px;\n          height: 80px;\n          background-color: #c3c3c3;\n          border-radius: 0.5rem;\n        }\n\n        .course-info {\n          width: 255px;\n          padding: 0.25rem 0.75rem 0 0.75rem;\n\n          .course-teacher-name {\n            font-size: 0.875rem;\n            color: #777;\n          }\n\n          .course-title {\n            height: 50px;\n            font-weight: bold;\n            color: #222;\n          }\n        }\n      }\n\n      .close-btn {\n        position: absolute;\n        right: 1rem;\n        padding: 0.25rem;\n        .close-icon {\n          font-size: 1.5rem;\n          color: #777;\n          text-align: right;\n        }\n      }\n    }\n  }\n}\n</style>\n","import { gql } from '@apollo/client/core'\n\nconst favoriteCourse = gql`\n  query FavoriteCourse($student_id: uuid) {\n    FavoriteCourses(where: { student_id: { _eq: $student_id } }) {\n      Course {\n        id\n        image\n        title\n        Instructor {\n          name\n        }\n      }\n    }\n  }\n`\n\nexport default favoriteCourse\n","\nimport { defineComponent, computed } from 'vue'\nimport { useMutation, useQuery, useResult } from '@vue/apollo-composable'\nimport favoriteCourse from '@/graphql/queries/favariteCourse'\nimport { DeleteFavoriteCourseMutation, FavoriteCourseQuery } from '@/graphql/@types/types'\nimport { faTimesCircle } from '@fortawesome/free-regular-svg-icons'\nimport { faPlus } from '@fortawesome/free-solid-svg-icons'\nimport NoItem from '@/components/NoItem.vue'\nimport { useStore } from 'vuex'\nimport deleteFavoriteCourseMutation from '@/graphql/mutations/deleteFavoriteCourse'\n\nexport default defineComponent({\n  components: {\n    NoItem\n  },\n  setup() {\n    const store = useStore()\n    const uid = store.state.currentUser?.uid\n\n    const { result, refetch } = useQuery<FavoriteCourseQuery>(favoriteCourse, {\n      student_id: uid\n    })\n    refetch()\n    const favoriteCourses = useResult(result, null, (data) => data.FavoriteCourses)\n\n    const { mutate: deleteFavoriteCourse } = useMutation<DeleteFavoriteCourseMutation>(deleteFavoriteCourseMutation, () => ({\n      update: () => {\n        refetch()\n      }\n    }))\n    const deleteFavorite = async (courseId: number) => {\n      await deleteFavoriteCourse({ course_id: courseId, student_id: uid })\n    }\n\n    const closeIcon = computed(() => faTimesCircle)\n    const plusIcon = computed(() => faPlus)\n\n    return {\n      closeIcon,\n      plusIcon,\n      favoriteCourses,\n      deleteFavorite\n    }\n  }\n})\n","import { render } from \"./FavoriteCourse.vue?vue&type=template&id=5b688210&scoped=true&bindings={}\"\nimport script from \"./FavoriteCourse.vue?vue&type=script&lang=ts\"\nexport * from \"./FavoriteCourse.vue?vue&type=script&lang=ts\"\n\nimport \"./FavoriteCourse.vue?vue&type=style&index=0&id=5b688210&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5b688210\"\n\nexport default script","import { gql } from '@apollo/client/core'\n\nconst deleteFavoriteCourseMutation = gql`\n  mutation DeleteFavoriteCourse($course_id: Int, $student_id: uuid) {\n    delete_FavoriteCourses(where: { course_id: { _eq: $course_id }, student_id: { _eq: $student_id } }) {\n      returning {\n        id\n      }\n    }\n  }\n`\n\nexport default deleteFavoriteCourseMutation\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./FavoriteCourse.vue?vue&type=style&index=0&id=5b688210&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./FavoriteCourse.vue?vue&type=style&index=0&id=5b688210&lang=scss&scoped=true\"","<template>\n  <div class=\"wrap\">\n    <div class=\"circle\">\n      <slot class=\"icon\"></slot>\n    </div>\n    <h3 class=\"msg\">{{ text }}{{ $t('msg.no-item') }}</h3>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n  props: {\n    text: {\n      type: String,\n      required: true\n    }\n  }\n  // setup() {}\n})\n</script>\n\n<style scoped lang=\"scss\">\n.wrap {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n\n  .circle {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 200px;\n    height: 200px;\n    margin-top: 35%;\n    font-size: 5rem;\n    color: #646464;\n    background-color: #fff;\n    border-radius: 50%;\n  }\n  .msg {\n    margin-top: 1rem;\n    color: #aaa;\n    text-align: center;\n    letter-spacing: 0.125rem;\n  }\n}\n</style>\n","\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n  props: {\n    text: {\n      type: String,\n      required: true\n    }\n  }\n  // setup() {}\n})\n","import { render } from \"./NoItem.vue?vue&type=template&id=3a4c3af1&scoped=true&bindings={}\"\nimport script from \"./NoItem.vue?vue&type=script&lang=ts\"\nexport * from \"./NoItem.vue?vue&type=script&lang=ts\"\n\nimport \"./NoItem.vue?vue&type=style&index=0&id=3a4c3af1&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-3a4c3af1\"\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}