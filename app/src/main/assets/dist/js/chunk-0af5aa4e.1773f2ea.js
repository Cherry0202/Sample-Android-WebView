(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0af5aa4e"],{"223b":function(e,t,c){e.exports=c.p+"img/vr.e5416727.png"},"4d4a":function(e,t,c){"use strict";c("681e")},"611f":function(e,t,c){},"681e":function(e,t,c){},"8df1":function(e,t,c){"use strict";c("611f")},"9fbb":function(e,t,c){"use strict";c.r(t);c("b0c0");var n=c("7a23"),i=Object(n["N"])("data-v-67779167");Object(n["y"])("data-v-67779167");var o={key:0,class:"content-wrap"},u={class:"progress-gauge"},s={class:"title"},r={class:"question-review-button-wrap"},a={key:0},l={key:1},d={class:"headline"},v={class:"headline"};Object(n["w"])();var j=i((function(e,t,c,j,b,O){var p,f,m,k,A,D,g,C,w=Object(n["D"])("BackButton"),I=Object(n["D"])("device-link-popup"),h=Object(n["D"])("CourseImage"),y=Object(n["D"])("Modal"),S=Object(n["D"])("TeacherInfo"),M=Object(n["D"])("font-awesome-icon"),_=Object(n["D"])("router-link"),q=Object(n["D"])("Lectures"),L=Object(n["D"])("SkillTest");return Object(n["v"])(),Object(n["f"])(n["a"],null,[Object(n["j"])(w,{"active-bg":!0}),Object(n["j"])(I,{"popup-active":e.isDeviceLinkPopupActive,onDeviceLinkPopupActive:e.setDeviceLinkPopupActive,onSetModalActive:e.setModalActive,videoData:e.sendVRDeviceData},null,8,["popup-active","onDeviceLinkPopupActive","onSetModalActive","videoData"]),Object(n["j"])(h,{image:null===(p=e.course)||void 0===p?void 0:p.image,onDeviceLinkPopupActive:e.setDeviceLinkPopupActive,onSetModalActive:e.setModalActive,videoData:e.sendVRDeviceData},null,8,["image","onDeviceLinkPopupActive","onSetModalActive","videoData"]),Object(n["j"])(y,{"course-image":null===(f=e.course)||void 0===f?void 0:f.image,"connecting-device-name":e.connectingDeviceName,"course-title":null===(m=e.course)||void 0===m?void 0:m.title,"instructor-name":null===(k=e.instructor)||void 0===k?void 0:k.name,isModalActive:e.isModalActive,onSetModalActive:e.setModalActive},null,8,["course-image","connecting-device-name","course-title","instructor-name","isModalActive","onSetModalActive"]),e.course?(Object(n["v"])(),Object(n["f"])("div",o,[Object(n["j"])("div",u,[Object(n["j"])("div",{class:"percent",style:{width:"".concat(e.subscriptionCourseLast,"%")}},null,4),Object(n["j"])("span",null,Object(n["F"])(e.subscriptionCourseLast)+"% "+Object(n["F"])(e.$t("take-course.finish")),1)]),Object(n["j"])(S,{image:null===(A=e.instructor)||void 0===A?void 0:A.icon,name:null===(D=e.instructor)||void 0===D?void 0:D.name,id:null===(g=e.course)||void 0===g?void 0:g.Instructor.id},null,8,["image","name","id"]),Object(n["j"])("h1",s,Object(n["F"])(null===(C=e.course)||void 0===C?void 0:C.title),1),Object(n["j"])("div",r,[e.chatRoom.length?(Object(n["v"])(),Object(n["f"])(_,{key:0,to:{name:"NoticeMessage",params:{id:e.chatRoom[0].id}}},{default:i((function(){return[Object(n["j"])(M,{icon:e.commentsIcon,class:"icon"},null,8,["icon"]),Object(n["j"])("span",null,Object(n["F"])(e.$t("take-course.question")),1)]})),_:1},8,["to"])):(Object(n["v"])(),Object(n["f"])(_,{key:1,to:{name:"QuestionForm",query:{course_id:e.subscriptionCourseId}}},{default:i((function(){return[Object(n["j"])(M,{icon:e.questionIcon,class:"icon"},null,8,["icon"]),Object(n["j"])("span",null,Object(n["F"])(e.$t("take-course.question")),1)]})),_:1},8,["to"])),Object(n["j"])(_,{to:{name:"ReviewForm",query:{course_id:e.subscriptionCourseId}}},{default:i((function(){return[Object(n["j"])(M,{icon:e.reviewIcon,class:"icon"},null,8,["icon"]),e.review.length?(Object(n["v"])(),Object(n["f"])("span",a,Object(n["F"])(e.$t("take-course.review-edit")),1)):(Object(n["v"])(),Object(n["f"])("span",l,Object(n["F"])(e.$t("take-course.review")),1))]})),_:1},8,["to"])]),Object(n["j"])("h2",d,[Object(n["j"])(M,{icon:e.playIcon,class:"icon"},null,8,["icon"]),Object(n["i"])(" "+Object(n["F"])(e.$t("take-course.lecture")),1)]),Object(n["j"])(q,{lectures:e.lectures},null,8,["lectures"]),Object(n["j"])("h2",v,[Object(n["j"])(M,{icon:e.medalIcon,class:"icon"},null,8,["icon"]),Object(n["i"])(" "+Object(n["F"])(e.$t("take-course.certificate")),1)]),Object(n["j"])(L,{"skill-tests":e.skillTests},null,8,["skill-tests"])])):Object(n["g"])("",!0)],64)})),b=c("6c02"),O=c("1840"),p=c("5502"),f=c("8785"),m=c("00b9");function k(){var e=Object(f["a"])(["\n  query TakeCourseDetail($id: uuid, $student_id: uuid) {\n    SubscriptionCourses(where: { id: { _eq: $id } }) {\n      last\n      id\n      Course {\n        image\n        title\n        file\n        duration\n        Instructor {\n          icon\n          name\n          id\n        }\n        Sessions(order_by: { order: asc }) {\n          title\n        }\n        Exams {\n          title\n        }\n        Reviews(where: { student_id: { _eq: $student_id } }) {\n          id\n          student_id\n        }\n        ChatRooms(where: { student_id: { _eq: $student_id } }) {\n          id\n        }\n      }\n    }\n  }\n"]);return k=function(){return e},e}var A=Object(m["gql"])(k()),D=A,g=c("b702"),C=c("c074"),w=c("74c9"),I=c("019e"),h=c("c38c"),y=c("6b7b"),S=c("8e1b"),M=Object(n["N"])("data-v-468fd364");Object(n["y"])("data-v-468fd364");var _={class:"title"};Object(n["w"])();var q=M((function(e,t,c,i,o,u){var s=Object(n["D"])("notice"),r=Object(n["D"])("font-awesome-icon");return Object(n["v"])(),Object(n["f"])(n["a"],null,[Object(n["j"])(s,{title:"VRデバイスに接続できませんでした",noticeActive:e.isNoticeActive},null,8,["noticeActive"]),Object(n["L"])(Object(n["j"])("div",{class:"wrap",onClick:t[2]||(t[2]=Object(n["M"])((function(){return e.popupCancel.apply(e,arguments)}),["self"]))},[Object(n["j"])("div",{class:["content-wrap",{"popup-active":e.isAnimationActive}]},[Object(n["j"])("h3",_,Object(n["F"])(e.$t("VR-device.connect")),1),Object(n["j"])("ul",null,[(Object(n["v"])(!0),Object(n["f"])(n["a"],null,Object(n["B"])(e.btDevices,(function(t,c){return Object(n["v"])(),Object(n["f"])("li",{key:c,onClick:function(c){return e.deviceConnection(t)}},[Object(n["j"])(r,{icon:e.castIcon,class:"icon"},null,8,["icon"]),Object(n["j"])("span",null,Object(n["F"])(t.deviceName),1)],8,["onClick"])})),128))]),Object(n["j"])("div",{class:"cancel",onClick:t[1]||(t[1]=function(){return e.popupCancel.apply(e,arguments)})},[Object(n["j"])(r,{icon:e.closeIcon,class:"icon"},null,8,["icon"]),Object(n["j"])("span",null,Object(n["F"])(e.$t("VR-device.cancel")),1)])],2)],512),[[n["J"],e.popupActive]])],64)})),L=(c("96cf"),c("1da1")),R=c("f2d1"),F=c("aa0e"),N=c("f141"),$=Object(n["k"])({components:{Notice:F["a"]},props:{popupActive:{type:Boolean,required:!0},videoData:{type:Object}},emits:["device-link-popup-active","set-modal-active"],setup:function(e,t){var c=Object(p["b"])(),i=Object(n["d"])((function(){return R["a"]})),o=Object(n["d"])((function(){return C["u"]})),u=Object(n["A"])(!1),s=Object(n["A"])(!1),r=function(e){c.commit("setLoading",e)},a=function(){s.value=!0,setTimeout((function(){return s.value=!1}),1500)},l=Object(n["A"])([]);l.value=JSON.parse(N["a"]);var d=function(){return setTimeout((function(){return u.value=!0}),10)};Object(n["K"])((function(){return e.popupActive}),(function(e){e&&d()}));var v=function(){t.emit("device-link-popup-active",!1),u.value=!1},j=function(n){r(!0),setTimeout((function(){c.dispatch("requestSetConnectingBluetoothDevice",{device:n}).then(Object(L["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c.dispatch("submitBTDeviceData",{videoData:JSON.stringify(e.videoData)});case 2:i=n.sent,r(!1),"true"===i?(v(),t.emit("set-modal-active",!0)):a();case 5:case"end":return n.stop()}}),n)}))))}),100)};return{castIcon:i,closeIcon:o,popupCancel:v,deviceConnection:j,isAnimationActive:u,btDevices:l,isNoticeActive:s}}});c("e5c3");$.render=q,$.__scopeId="data-v-468fd364";var T=$,B=c("223b"),P=c.n(B),J=Object(n["N"])("data-v-cac0ed94");Object(n["y"])("data-v-cac0ed94");var V={class:"modal-content"},x=Object(n["j"])("div",{class:"image-wrap"},[Object(n["j"])("img",{src:P.a,alt:""})],-1),E={class:"vr-text"},K={class:"device-name"},Q={class:"course-info"},U={class:"info"},z={class:"course-title"},G={class:"instructor-name"};Object(n["w"])();var H=J((function(e,t,c,i,o,u){var s=Object(n["D"])("font-awesome-icon");return Object(n["L"])((Object(n["v"])(),Object(n["f"])("div",{class:"modal-wrap",onClick:t[2]||(t[2]=Object(n["M"])((function(t){return e.setModalActive(!1)}),["self"]))},[Object(n["j"])(n["c"],null,{default:J((function(){return[Object(n["L"])(Object(n["j"])("div",V,[Object(n["j"])("button",{class:"close-button",onClick:t[1]||(t[1]=function(t){return e.setModalActive(!1)})},[Object(n["j"])(s,{icon:e.closeIcon,class:"close-icon"},null,8,["icon"])]),x,Object(n["j"])("h2",E,Object(n["F"])(e.$t("VR-device.headset")),1),Object(n["j"])("p",K,[Object(n["j"])(s,{icon:e.vrIcon,class:"vr-icon"},null,8,["icon"]),Object(n["j"])("span",null," → "+Object(n["F"])(e.connectingDeviceName),1)]),Object(n["j"])("div",Q,[Object(n["j"])("img",{src:e.courseImage,alt:"",class:"course-image"},null,8,["src"]),Object(n["j"])("div",U,[Object(n["j"])("p",z,Object(n["F"])(e.courseTitle),1),Object(n["j"])("p",G,Object(n["F"])(e.instructorName),1)])])],512),[[n["J"],e.isModalActive]])]})),_:1})],512)),[[n["J"],e.isModalActive]])})),W=Object(n["k"])({props:{isModalActive:{type:Boolean,required:!0},courseImage:{type:String,required:!0},connectingDeviceName:{type:String,required:!0},courseTitle:{type:String,required:!0},instructorName:{type:String,required:!0}},emits:["set-modal-active"],setup:function(e,t){var c=function(e){t.emit("set-modal-active",e)},i=Object(n["d"])((function(){return C["u"]})),o=Object(n["d"])((function(){return C["w"]}));return{closeIcon:i,vrIcon:o,setModalActive:c}}});c("4d4a");W.render=H,W.__scopeId="data-v-cac0ed94";var X=W,Y=Object(n["k"])({components:{BackButton:w["a"],CourseImage:I["a"],TeacherInfo:h["a"],Lectures:y["a"],SkillTest:S["a"],DeviceLinkPopup:T,Modal:X},setup:function(){var e,t=Object(b["c"])(),c=t.currentRoute,i=c.value.query.id,o=Object(p["b"])(),u=Object(n["d"])((function(){return o.state.connectingBluetoothDevice.deviceName})),s=Object(n["A"])(!1),r=Object(n["A"])(!1),a=Object(n["A"])(),l=function(e){s.value=e},d=function(e){r.value=e},v=Object(O["c"])(D,{id:i,student_id:null===(e=o.state.currentUser)||void 0===e?void 0:e.uid}),j=v.result,f=v.onResult,m=Object(O["d"])(j,null,(function(e){return e.SubscriptionCourses[0].last})),k=Object(O["d"])(j,null,(function(e){return e.SubscriptionCourses[0].id})),A=Object(O["d"])(j,null,(function(e){return e.SubscriptionCourses[0].Course})),w=Object(O["d"])(j,null,(function(e){return e.SubscriptionCourses[0].Course.Instructor})),I=Object(O["d"])(j,null,(function(e){return e.SubscriptionCourses[0].Course.Sessions})),h=Object(O["d"])(j,null,(function(e){return e.SubscriptionCourses[0].Course.Exams})),y=Object(O["d"])(j,null,(function(e){return e.SubscriptionCourses[0].Course.Reviews})),S=Object(O["d"])(j,null,(function(e){return e.SubscriptionCourses[0].Course.ChatRooms}));f((function(){var e,t;a.value={subscription_id:null===k||void 0===k?void 0:k.value,url:null===(e=A.value)||void 0===e?void 0:e.file,length:null===(t=A.value)||void 0===t?void 0:t.duration,last:m.value},console.log(a.value)}));var M=Object(n["d"])((function(){return C["q"]})),_=Object(n["d"])((function(){return C["o"]})),q=Object(n["d"])((function(){return C["e"]})),L=Object(n["d"])((function(){return g["b"]})),R=Object(n["d"])((function(){return C["l"]}));return{questionIcon:M,reviewIcon:_,commentsIcon:q,playIcon:L,medalIcon:R,subscriptionCourseLast:m,subscriptionCourseId:k,course:A,instructor:w,lectures:I,skillTests:h,review:y,chatRoom:S,isDeviceLinkPopupActive:s,setDeviceLinkPopupActive:l,isModalActive:r,setModalActive:d,connectingDeviceName:u,sendVRDeviceData:a}}});c("8df1");Y.render=j,Y.__scopeId="data-v-67779167";t["default"]=Y},e5c3:function(e,t,c){"use strict";c("f059")},f059:function(e,t,c){},f141:function(e,t,c){"use strict";var n=function(){return Android.findDevice()};t["a"]=n()}}]);
//# sourceMappingURL=chunk-0af5aa4e.1773f2ea.js.map